# Songs API Environment Configuration
# Copy this file to .env and update values as needed

# =============================================================================
# ENVIRONMENT
# =============================================================================
# Runtime environment: local, development, production
ENVIRONMENT=local

# =============================================================================
# MONGODB CONFIGURATION
# =============================================================================
# MongoDB database name
MONGO_DB_NAME=songs_db

# MongoDB connection URI (if not provided, will be built from components below)
# MONGO_URI=mongodb://admin:adminpassword@localhost:27017/songs_db?authSource=admin

# MongoDB connection components (used to build MONGO_URI if not provided)
MONGO_ROOT_USERNAME=admin
MONGO_ROOT_PASSWORD=adminpassword
MONGO_HOST=localhost
MONGO_PORT=27017

# =============================================================================
# JWT AUTHENTICATION
# =============================================================================
# JWT secret key - REQUIRED for production
# Generate with: python -c "import secrets; print(secrets.token_urlsafe(32))"
JWT_SECRET_KEY=your-secret-key-change-in-production

# JWT algorithm
JWT_ALGORITHM=HS256

# JWT token expiration in minutes
JWT_ACCESS_TOKEN_EXPIRE_MINUTES=60

# =============================================================================
# LOGGING
# =============================================================================
# Log level: DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_LEVEL=INFO

# Log format: text (development) or json (production)
LOG_FORMAT=text

# =============================================================================
# RATE LIMITING
# =============================================================================
# Enable rate limiting
RATE_LIMIT_ENABLED=true

# Default rate limit (requests per time window)
RATE_LIMIT_DEFAULT=100 per minute

# Rate limit storage URI
# Development: memory://
# Production: redis://redis:6379/1
RATE_LIMIT_STORAGE_URI=memory://

# =============================================================================
# CACHING (REDIS - REQUIRED FOR PRODUCTION)
# =============================================================================
# Enable caching (automatically enabled in production)
CACHE_ENABLED=true

# Redis URL for caching
# Development: redis://localhost:6379/0
# Production: redis://redis:6379/0
CACHE_REDIS_URL=redis://localhost:6379/0

# Default cache TTL in seconds
CACHE_DEFAULT_TTL=300

# =============================================================================
# PAGINATION
# =============================================================================
# Maximum page size for list endpoints
MAX_PAGE_SIZE=100

# =============================================================================
# DATA FILES
# =============================================================================
# Path to songs.json file for seeding
SONGS_JSON_PATH=songs.json

# =============================================================================
# PRODUCTION EXAMPLE
# =============================================================================
# For production deployment, use these settings:
#
# ENVIRONMENT=production
# MONGO_URI=mongodb://user:password@mongodb-host:27017/songs_db?authSource=admin&replicaSet=rs0
# JWT_SECRET_KEY=<generate-with-secrets.token_urlsafe(32)>
# LOG_FORMAT=json
# LOG_LEVEL=INFO
# RATE_LIMIT_STORAGE_URI=redis://redis:6379/1
# CACHE_REDIS_URL=redis://redis:6379/0
# CACHE_ENABLED=true
#
# Note: Redis is REQUIRED for production to enable caching and distributed rate limiting
